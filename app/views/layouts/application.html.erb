<!DOCTYPE html>
<html lang="ja">
  <head>
    <title>Re:Mind - 失敗を学びに変える</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
  </head>

  <body class="min-h-screen bg-gray-50">
    <% if user_signed_in? %>
      <%= render 'layouts/navbar' %>
    <% end %>

    <% if flash.any? %>
      <div class="flash-messages">
        <% flash.each do |type, message| %>
          <div class="flash flash-<%= type %>">
            <%= message %>
            <button class="flash-close" style="position: absolute; top: 0.5rem; right: 0.5rem; background: none; border: none; color: inherit; opacity: 0.7; cursor: pointer; font-size: 1.5rem; line-height: 1; padding: 0.25rem 0.5rem;">×</button>
          </div>
        <% end %>
      </div>
    <% end %>

    <main>
      <%= yield %>
    </main>

    <% if user_signed_in? %>
      <%= render 'layouts/footer' %>
    <% end %>
  </body>
</html>

